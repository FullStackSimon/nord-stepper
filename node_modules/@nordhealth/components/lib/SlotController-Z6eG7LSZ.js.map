{"version":3,"file":"SlotController-Z6eG7LSZ.js","sources":["../src/common/controllers/SlotController.ts"],"sourcesContent":["import { ReactiveController, ReactiveControllerHost, isServer } from \"lit\"\nimport { EventController } from \"./EventController.js\"\n\nexport class SlotController implements ReactiveController {\n  private events: EventController\n  private selector: string\n\n  constructor(\n    protected host: ReactiveControllerHost & HTMLElement,\n    public slotName: string = \"\"\n  ) {\n    host.addController(this)\n    this.events = new EventController(host)\n    this.selector = slotName ? `:scope > [slot=\"${slotName}\"]` : `:scope > :not([slot])`\n  }\n\n  hostConnected() {\n    if (this.host.shadowRoot) {\n      this.events.listen(this.host.shadowRoot, \"slotchange\", this.handleSlotChange)\n    }\n  }\n\n  get hasContent() {\n    return this.content != null\n  }\n\n  get isEmpty() {\n    return !this.hasContent\n  }\n\n  get content() {\n    if (isServer) {\n      return null\n    }\n\n    return this.host.querySelector(this.selector)\n  }\n\n  get assigned() {\n    if (isServer) {\n      return []\n    }\n\n    return Array.from(this.host.querySelectorAll(this.selector))\n  }\n\n  private handleSlotChange = (e: Event) => {\n    const slot = e.target as HTMLSlotElement\n\n    if (slot.name === this.slotName) {\n      this.onChange(e)\n    }\n  }\n\n  protected onChange(_e: Event) {\n    this.host.requestUpdate()\n  }\n}\n"],"names":["SlotController","constructor","host","slotName","this","handleSlotChange","e","target","name","onChange","addController","events","EventController","selector","hostConnected","shadowRoot","listen","hasContent","content","isEmpty","isServer","querySelector","assigned","Array","from","querySelectorAll","_e","requestUpdate"],"mappings":"uFAGaA,EAIX,WAAAC,CACYC,EACHC,EAAmB,IADhBC,KAAIF,KAAJA,EACHE,KAAQD,SAARA,EAqCDC,KAAAC,iBAAoBC,IACbA,EAAEC,OAENC,OAASJ,KAAKD,UACrBC,KAAKK,SAASH,EACf,EAxCDJ,EAAKQ,cAAcN,MACnBA,KAAKO,OAAS,IAAIC,EAAgBV,GAClCE,KAAKS,SAAWV,EAAW,mBAAmBA,MAAe,uBAC9D,CAED,aAAAW,GACMV,KAAKF,KAAKa,YACZX,KAAKO,OAAOK,OAAOZ,KAAKF,KAAKa,WAAY,aAAcX,KAAKC,iBAE/D,CAED,cAAIY,GACF,OAAuB,MAAhBb,KAAKc,OACb,CAED,WAAIC,GACF,OAAQf,KAAKa,UACd,CAED,WAAIC,GACF,OAAIE,EACK,KAGFhB,KAAKF,KAAKmB,cAAcjB,KAAKS,SACrC,CAED,YAAIS,GACF,OAAIF,EACK,GAGFG,MAAMC,KAAKpB,KAAKF,KAAKuB,iBAAiBrB,KAAKS,UACnD,CAUS,QAAAJ,CAASiB,GACjBtB,KAAKF,KAAKyB,eACX"}