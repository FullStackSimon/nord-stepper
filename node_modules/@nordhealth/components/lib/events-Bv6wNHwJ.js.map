{"version":3,"file":"events-Bv6wNHwJ.js","sources":["../src/common/events.ts"],"sourcesContent":["/**\n * A base class for events which defaults to bubbling and composed\n */\nexport class NordEvent extends Event {\n  constructor(type: string, eventInitDict?: EventInit) {\n    super(type, {\n      bubbles: true,\n      composed: true,\n      ...eventInitDict,\n    })\n  }\n}\n\nexport function oneEvent<K extends keyof GlobalEventHandlersEventMap>(element: HTMLElement, type: K) {\n  return new Promise<GlobalEventHandlersEventMap[K]>(resolve => {\n    element.addEventListener(type, e => resolve(e), { once: true })\n  })\n}\n\nexport function transition(element: HTMLElement) {\n  return Promise.race([oneEvent(element, \"transitionend\"), oneEvent(element, \"transitioncancel\")])\n}\n\nexport function animation(element: HTMLElement) {\n  return Promise.race([oneEvent(element, \"animationend\"), oneEvent(element, \"animationcancel\")])\n}\n"],"names":["NordEvent","Event","constructor","type","eventInitDict","super","bubbles","composed","oneEvent","element","Promise","resolve","addEventListener","e","once","transition","race","animation"],"mappings":"AAGM,MAAOA,UAAkBC,MAC7B,WAAAC,CAAYC,EAAcC,GACxBC,MAAMF,EAAM,CACVG,SAAS,EACTC,UAAU,KACPH,GAEN,EAGa,SAAAI,EAAsDC,EAAsBN,GAC1F,OAAO,IAAIO,SAAwCC,IACjDF,EAAQG,iBAAiBT,GAAMU,GAAKF,EAAQE,IAAI,CAAEC,MAAM,GAAO,GAEnE,CAEM,SAAUC,EAAWN,GACzB,OAAOC,QAAQM,KAAK,CAACR,EAASC,EAAS,iBAAkBD,EAASC,EAAS,qBAC7E,CAEM,SAAUQ,EAAUR,GACxB,OAAOC,QAAQM,KAAK,CAACR,EAASC,EAAS,gBAAiBD,EAASC,EAAS,oBAC5E"}